(()=>{"use strict";const t=document.querySelectorAll(".__anim-items");class e{constructor(t,e){this.options=Object.assign({isChanged:()=>{},init:()=>{}},e),this.selector=t,this.tabs=document.querySelector(`[data-tabs="${t}"]`),this.tabs?(this.tabList=this.tabs.querySelector(".tabs__nav"),this.tabsBtns=this.tabList.querySelectorAll(".tabs__nav-btn"),this.tabsPanels=this.tabs.querySelectorAll(".tabs__panel"),this.check(),this.init(),this.events()):console.error("Селектор data-tabs не существует!")}check(){document.querySelectorAll(`[data-tabs="${this.selector}"]`).length>1?console.error("Количество элементов с одинаковым data-tabs больше одного!"):this.tabsBtns.length===this.tabsPanels.length||console.error("Количество кнопок и элементов табов не совпадает!")}init(){this.tabList.setAttribute("role","tablist"),this.tabsBtns.forEach(((t,e)=>{t.setAttribute("role","tab"),t.setAttribute("tabindex","-1"),t.setAttribute("id",`${this.selector}${e+1}`),t.classList.remove("tabs__nav-btn--active")})),this.tabsPanels.forEach(((t,e)=>{t.setAttribute("role","tabpanel"),t.setAttribute("tabindex","-1"),t.setAttribute("aria-labelledby",this.tabsBtns[e].id),t.classList.remove("tabs__panel--active")})),this.tabsBtns[1].classList.add("tabs__nav-btn--active"),this.tabsBtns[1].removeAttribute("tabindex"),this.tabsBtns[1].setAttribute("aria-selected","true"),this.tabsPanels[1].classList.add("tabs__panel--active")}events(){this.tabsBtns.forEach(((t,e)=>{t.addEventListener("click",(t=>{let e=this.tabList.querySelector("[aria-selected]");t.currentTarget!==e&&this.switchTabs(t.currentTarget,e)})),t.addEventListener("keydown",(t=>{let s=Array.prototype.indexOf.call(this.tabsBtns,t.currentTarget),a=null;a=37===t.which?s-1:39===t.which?s+1:40===t.which?"down":null,null!==a&&("down"===a?this.tabsPanels[e].focus():this.tabsBtns[a]&&this.switchTabs(this.tabsBtns[a],t.currentTarget))}))}))}switchTabs(t,e=this.tabs.querySelector("[aria-selected]")){t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1");let s=Array.prototype.indexOf.call(this.tabsBtns,t),a=Array.prototype.indexOf.call(this.tabsBtns,e);this.tabsPanels[a].classList.remove("tabs__panel--active"),this.tabsPanels[s].classList.add("tabs__panel--active"),this.tabsBtns[a].classList.remove("tabs__nav-btn--active"),this.tabsBtns[s].classList.add("tabs__nav-btn--active"),this.options.isChanged(this)}}const s=document.querySelectorAll("img[data-src], source[data-srcset]"),a=(document.querySelector(".__load-map"),document.documentElement.clientHeight),n={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IeMobile/i)},any:function(){return n.Android()||n.BlackBerry()||n.iOS()||n.Opera()||n.Windows()}};var i,r;n.any()?document.body.classList.add("--touch"):document.body.classList.add("--pc"),i=function(t){1==t?document.querySelector("html").classList.add("webp"):document.querySelector("html").classList.add("no-webp")},(r=new Image).onload=r.onerror=function(){i(2==r.height)},r.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(){if(t.length>0){function e(e){for(let e=0;e<t.length;e++){const a=t[e],n=a.offsetHeight,i=s(a).top,r=4;let o=window.innerHeight-n/r;n>window.innerHeight&&(o=window.innerHeight-window.innerHeight/r),scrollY>i-o&&scrollY<i+n?a.classList.add("__animate"):a.classList.contains("__anim-no-hide")||a.classList.remove("__animate")}}function s(t){const e=t.getBoundingClientRect(),s=window.pageXOffset||document.documentElement.scrollLeft,a=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+a,left:e.left+s}}window.addEventListener("scroll",e),setTimeout((()=>{e()}),300),e()}}(),function(){let t=[];function e(){let e=t.findIndex((t=>scrollY>t-a));e>=0&&(s[e].dataset.src?(s[e].src=s[e].dataset.src,s[e].removeAttribute("data-src")):s[e].dataset.srcset&&(s[e].srcset=s[e].dataset.srcset,s[e].removeAttribute("data-srcset")),delete t[e])}s.length>0&&s.forEach((s=>{(s.dataset.src||s.dataset.srcset)&&(t.push(s.getBoundingClientRect().top+scrollY),e())})),window.addEventListener("scroll",(function(){document.querySelectorAll("img[data-src], source[data-srcset]").length>0&&e()}))}(),window.addEventListener("load",(function(){let t=document.querySelectorAll("[data-bg]");for(let e=0;e<t.length;e++){let s=t[e].getAttribute("data-bg");t[e].style.backgroundImage="url("+s+")"}let e=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),s=e?parseInt(e[1]):0;if(function(){let t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0==t.toDataURL("image/webp").indexOf("data:image/webp")}()||s>=65){let t=document.querySelectorAll("[data-bg-webp]");for(let e=0;e<t.length;e++){let s=t[e].getAttribute("data-bg-webp");t[e].style.backgroundImage="url("+s+")"}}})),new e("tab1",{}),new e("tab2",{}),new e("tab3",{}),new e("tab4",{}),new e("tab5",{}),new e("tab6",{}),new e("tab7",{}),new e("tab8",{});const o=document.querySelector(".menu-toggle"),c=document.querySelector(".menu-bar"),l=document.body;o.addEventListener("click",(()=>{o.classList.toggle("menu-toggle--active"),c.classList.toggle("menu-bar--active"),l.classList.toggle("--lock")})),window.addEventListener("click",(t=>{t.target==c&&(o.classList.remove("menu-toggle--active"),c.classList.remove("menu-bar--active"),l.classList.remove("--lock"))}))})();